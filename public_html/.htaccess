# Ativa o mecanismo de reescrita
RewriteEngine On

# Se sua URL é http://localhost/sgbccni/ use:
RewriteBase /sgbccni/
# (Se o projeto estiver na raiz do host, use só "/")

# 🔁 Remover .php da URL (ex.: /login → /login.php)
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME}\.php -f
RewriteRule ^(.+)$ $1.php [L]

# 🔒 Logout amigável SEM expor o backend na web
# Crie public_html/logout.php (código abaixo)
RewriteRule ^logout$ /sgbccni/logout.php [L]

# 💡 Bloqueio de arquivos sensíveis (Apache 2.4+)
<FilesMatch "\.(env|sql|bak|ini|log|sh|md|yml|json)$">
  Require all denied
</FilesMatch>

# 🚫 Evita listagem de diretórios
Options -Indexes

# ✅ Fallback: envia rotas inexistentes para index.php (front controller)
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^ index.php [QSA,L]
